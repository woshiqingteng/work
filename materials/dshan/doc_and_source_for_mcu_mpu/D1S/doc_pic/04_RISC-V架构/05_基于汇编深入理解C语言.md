# 基于汇编深入理解C语言



## 1. 栈的作用

### 1.1 为局部变量分配空间



### 1.2 （可能）保存返回地址

如果函数比较复杂比如会调用其他函数，则现在栈里保存自己的返回地址。

A调用B，在A的栈里会保存A执行完后的返回地址。



### 1.3 （可能）保存"被调用者保存的寄存器"





## 2. 常见Bug

局部变量越界，会破坏栈，后果无法预料。



## 3. 全局变量和静态变量

### 3.1 移植UART



### 3.2 空间分配与初始化

勘误：D1S的BROM把程序从SPI Flash复制到片内RAM 0x20000000处，并不是复制到程序头部所指示的位置。



## 4. 段



### 4.1 段的概念



### 4.2 段的重定位



